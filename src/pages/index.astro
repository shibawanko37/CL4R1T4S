---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import { readdirSync } from 'fs';

const contentPath = 'src/content';
const collections = readdirSync(contentPath, { withFileTypes: true })
  .filter(dirent => dirent.isDirectory() && dirent.name !== 'blog')
  .map(dirent => dirent.name);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			main {
				width: 960px;
			}
			ul {
				display: flex;
				flex-wrap: wrap;
				gap: 1rem;
				list-style-type: none;
				margin: 0;
				padding: 0;
			}
			li {
				width: calc(33% - 1rem);
			}
			li a {
				display: block;
				padding: 1rem;
				border: 1px solid #ddd;
				border-radius: 0.25rem;
				text-decoration: none;
                color: #111;
		        font-size: 1.25rem;
			}
			li a:hover {
				background-color: #f5f5f5;
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<h1>ðŸ¤– CL4R1T4S ðŸ¤–</h1>
			<h2>AI Systems Transparency and Observability for All!</h2>
			<p>
                Browse the extracted system prompts, guidelines, and tools from major AI models and agents.
			</p>
			<ul>
				{collections.map((collection) => (
					<li>
						<a href={`/${collection}`}>{collection.charAt(0).toUpperCase() + collection.slice(1).replace('-', ' ')}</a>
					</li>
				))}
			</ul>
		</main>
		<Footer />
	</body>
</html>
